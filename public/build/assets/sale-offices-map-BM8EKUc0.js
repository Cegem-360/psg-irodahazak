import{G as l}from"./google-maps-utils-Bx_Ryxi8.js";class d{constructor(){this.mapsManager=new l}async initialize(a,r){try{await this.mapsManager.initializeGoogleMaps(a,"map",()=>{this.updateMapMarkers(r)})}catch(s){console.error("Failed to initialize Google Maps:",s)}}async updateMapMarkers(a){if(!this.mapsManager.map||!this.mapsManager.geocoder||(this.mapsManager.clearMarkers(),!a||a.length===0))return;this.mapsManager.updateMapPlaceholder("Címek feldolgozása...");const r=[];for(let s=0;s<a.length;s++){const e=a[s];try{if(!e.address||e.address.trim()===""){console.warn("Empty address for office:",e.title);continue}const t=await this.mapsManager.geocodeAddress(e.address),n=this.mapsManager.createInfoWindowContent(e),i=this.mapsManager.addMarker(t,e.title,n);i&&r.push(i),s<a.length-1&&await new Promise(o=>setTimeout(o,200))}catch(t){console.warn(`Failed to geocode address "${e.address}" for office "${e.title}":`,t)}}this.mapsManager.hideMapPlaceholder(),r.length>0?this.mapsManager.fitMarkersToView():this.mapsManager.showMapMessage("Nem sikerült megjeleníteni a címeket a térképen.")}async refreshMarkers(a){this.mapsManager.mapInitialized&&await this.updateMapMarkers(a)}}window.saleOfficesMapHandler=new d;
